{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\nimport { auth } from '@/lib/auth'\nimport { UserRole } from '@prisma/client'\n\nexport default auth((req) => {\n  const { pathname } = req.nextUrl\n  const session = req.auth\n\n  // Public routes\n  const publicRoutes = ['/', '/login', '/register', '/register-vendor', '/products']\n  const isPublicRoute = publicRoutes.some(route => pathname === route || pathname.startsWith(`${route}/`))\n\n  if (isPublicRoute) {\n    return NextResponse.next()\n  }\n\n  // API routes\n  if (pathname.startsWith('/api/auth')) {\n    return NextResponse.next()\n  }\n\n  // Protected routes\n  if (!session) {\n    return NextResponse.redirect(new URL('/login', req.url))\n  }\n\n  // Admin routes\n  if (pathname.startsWith('/admin')) {\n    if (session.user.role !== 'ADMIN') {\n      return NextResponse.redirect(new URL('/unauthorized', req.url))\n    }\n  }\n\n  // Vendor routes\n  if (pathname.startsWith('/vendor')) {\n    if (session.user.role !== 'VENDOR' && session.user.role !== 'ADMIN') {\n      return NextResponse.redirect(new URL('/unauthorized', req.url))\n    }\n  }\n\n  return NextResponse.next()\n})\n\nexport const config = {\n  matcher: ['/((?!_next/static|_next/image|favicon.ico).*)']\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;;;;;;;uCAKe,KAAK,CAAC;IACnB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAChC,MAAM,UAAU,IAAI,IAAI;IAExB,gBAAgB;IAChB,MAAM,eAAe;QAAC;QAAK;QAAU;QAAa;QAAoB;KAAY;IAClF,MAAM,gBAAgB,aAAa,IAAI,CAAC,CAAA,QAAS,aAAa,SAAS,SAAS,UAAU,CAAC,GAAG,MAAM,CAAC,CAAC;IAEtG,IAAI,eAAe;QACjB,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,aAAa;IACb,IAAI,SAAS,UAAU,CAAC,cAAc;QACpC,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,mBAAmB;IACnB,IAAI,CAAC,SAAS;QACZ,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;IACxD;IAEA,eAAe;IACf,IAAI,SAAS,UAAU,CAAC,WAAW;QACjC,IAAI,QAAQ,IAAI,CAAC,IAAI,KAAK,SAAS;YACjC,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,iBAAiB,IAAI,GAAG;QAC/D;IACF;IAEA,gBAAgB;IAChB,IAAI,SAAS,UAAU,CAAC,YAAY;QAClC,IAAI,QAAQ,IAAI,CAAC,IAAI,KAAK,YAAY,QAAQ,IAAI,CAAC,IAAI,KAAK,SAAS;YACnE,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,iBAAiB,IAAI,GAAG;QAC/D;IACF;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgD;AAC5D"}}]
}